{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function getImagesByQuery(query) {\n\n    const searchParams = new URLSearchParams({\n        key: \"52733365-810bb5faaf6ec9d90304400a7\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n    });\n    \n    // axios(`https://pixabay.com/api/?key=52733365-810bb5faaf6ec9d90304400a7&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n    /*axios.get(`https://pixabay.com/api/?${searchParams}) */\n    return axios.get(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => { \n        if(response.data.hits.length === 0){\n            iziToast.error({\n            position: 'topRight',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        }\n        return response.data;\n    })\n    .catch(() => {\n        return {hits: []};\n    });\n    \n    \n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nlet lightbox;\nlet loader;\nconst gallery = document.querySelector('.gallery');\n\nexport function createGallery(images) {\n\n    let markUp = images.map(image => { \n        return `<li>\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            </a>\n            <ul class=\"image-description\">\n                <li><p>Likes</p><p>${image.likes}</p></li>\n                <li><p>Viewes</p><p>${image.views}</p></li>\n                <li><p>Comments</p><p>${image.comments}</p> </li>\n                <li><p>Downloads</p><p>${image.downloads}</p> </li>\n            </ul>\n        </li>`;\n    }).join(\"\");\n\n    gallery.innerHTML = markUp;\n\n    if(lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n    }\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader = document.createElement(\"p\");\n    loader.innerText = \"Loading images, please wait...\";\n    gallery.prepend(loader);\n}\n\nexport function hideLoader() {\n    loader.remove();\n}\n\n","import {getImagesByQuery} from \"./js/pixabay-api.js\";\nimport {createGallery} from \"./js/render-functions.js\";\nimport {clearGallery, showLoader, hideLoader} from \"./js/render-functions.js\";\n\nlet form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    clearGallery();\n    showLoader();\n\n    let userRequest = event.target.elements[\"search-text\"].value.trim().split(\" \").join(\"+\");\n    getImagesByQuery(userRequest)\n    .then(data => {\n        hideLoader();\n        createGallery(data.hits);\n    });\n    \n    form.reset();\n});"],"names":["getImagesByQuery","query","searchParams","axios","response","iziToast","lightbox","loader","gallery","createGallery","images","markUp","image","SimpleLightbox","clearGallery","showLoader","hideLoader","form","event","userRequest","data"],"mappings":"owBAKO,SAASA,EAAiBC,EAAO,CAEpC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAID,OAAOE,EAAM,IAAI,4BAA4BD,CAAY,EAAE,EACtD,KAAKE,IACHA,EAAS,KAAK,KAAK,SAAW,GAC7BC,EAAS,MAAM,CACf,SAAU,WACV,QAAS,0EACrB,CAAS,EAEMD,EAAS,KACnB,EACA,MAAM,KACI,CAAC,KAAM,CAAA,CAAE,EACnB,CAGL,CC3BA,IAAIE,EACAC,EACJ,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAElC,IAAIC,EAASD,EAAO,IAAIE,GACb;AAAA,uBACQA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,qCAG7BA,EAAM,KAAK;AAAA,sCACVA,EAAM,KAAK;AAAA,wCACTA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA,cAGnD,EAAE,KAAK,EAAE,EAEVJ,EAAQ,UAAYG,EAEjBL,EACCA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAE9F,CAEO,SAASC,GAAe,CAC3BN,EAAQ,UAAY,EACxB,CAEO,SAASO,GAAa,CACzBR,EAAS,SAAS,cAAc,GAAG,EACnCA,EAAO,UAAY,iCACnBC,EAAQ,QAAQD,CAAM,CAC1B,CAEO,SAASS,GAAa,CACzBT,EAAO,OAAM,CACjB,CC1CA,IAAIU,EAAO,SAAS,cAAc,OAAO,EAEzCA,EAAK,iBAAiB,SAAUC,GAAS,CACrCA,EAAM,eAAc,EAEpBJ,IACAC,IAEA,IAAII,EAAcD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAI,EAAG,MAAM,GAAG,EAAE,KAAK,GAAG,EACvFlB,EAAiBmB,CAAW,EAC3B,KAAKC,GAAQ,CACVJ,IACAP,EAAcW,EAAK,IAAI,CAC/B,CAAK,EAEDH,EAAK,MAAK,CACd,CAAC"}